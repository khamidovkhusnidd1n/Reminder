<!DOCTYPE html>
<html lang="uz">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#020205">
    <title> REMINDER | High-End Learning</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>

<body>
    <!-- Mesh Gradient Background -->
    <div class="mesh-gradient"></div>
    <canvas id="canvas-confetti"
        style="position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999;"></canvas>

    <div class="container">
        <!-- Screen: Onboarding -->
        <section id="screen-onboarding" class="hidden">
            <div class="unit-card fade-up"
                style="margin-top:15vh; text-align:center; padding:48px 24px; display:block; cursor:default;">
                <div style="font-size:4.5rem; margin-bottom:24px;">‚ú®</div>
                <h2 style="font-size:2.2rem; font-weight:900; margin-bottom:8px;">Xush Kelibsiz!</h2>
                <p style="color:var(--text-dim); margin-bottom:32px; font-weight:700;">Ismingizni kiriting:</p>
                <input type="text" id="onboarding-nick" placeholder="Username..."
                    style="width:100%; background:rgba(255,255,255,0.05); border:1px solid var(--glass-border); padding:24px; border-radius:20px; color:#fff; font-size:1.5rem; font-weight:800; text-align:center; outline:none; margin-bottom:24px;">
                <button id="onboarding-start" class="quiz-btn"
                    style="background:var(--accent); font-weight:900;">BOSHLASH</button>
            </div>
        </section>

        <!-- Luxury HUD -->
        <div class="user-hud fade-up" id="global-hud">
            <div class="hud-item">
                <div class="hud-level-circle" id="user-level-circle" data-level="1" style="--progress: 0%"></div>
                <div style="display:flex; flex-direction:column;">
                    <span id="user-level" style="font-weight:800; font-size:0.9rem;">LEVEL 1</span>
                    <span
                        style="font-size:0.65rem; font-weight:700; color:var(--text-muted); text-transform:uppercase;">Experience
                        Points</span>
                </div>
            </div>
            <div class="streak-pill" id="user-streak">üî• 0</div>
            <button onclick="openSettings()"
                style="background:rgba(255,255,255,0.1); border:none; width:36px; height:36px; border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; color:#fff; font-size:1.2rem; margin-left:12px;">‚öôÔ∏è</button>
        </div>

        <header class="fade-up" style="animation-delay: 0.1s">
            <h1 style="letter-spacing: 2px;">REMINDER</h1>
            <p>Intelligence in Language</p>
        </header>

        <!-- Screen: Unit Selection -->
        <section id="screen-units" class="fade-up" style="animation-delay: 0.2s">
            <div class="unit-grid" id="unit-list">
                <!-- Unit Cards will be injected here -->
            </div>

        </section>

        <!-- Screen: Unit Parts (Sub-levels) -->
        <section id="screen-parts" class="hidden">
            <button class="back-btn" onclick="showScreen('units')">‚Üê BACK TO UNITS</button>
            <div class="unit-card" style="margin-bottom:24px; text-align:center; display:block; cursor:default;">
                <h2 id="parts-unit-name" style="font-size:1.5rem; font-weight:800; margin-bottom:8px;">Unit Name</h2>
                <p style="color:var(--text-muted); font-size:0.9rem;">Select a part to practice</p>
            </div>
            <div class="unit-grid" id="parts-list">
                <!-- Parts injected here -->
            </div>
        </section>

        <!-- Screen: Mode Selection (Inside a specific unit) -->
        <section id="screen-modes" class="hidden">
            <button class="back-btn" id="back-to-units">‚Üê BACK TO LIST</button>
            <div class="unit-card" style="margin-bottom:32px; cursor:default;">
                <div class="unit-info">
                    <span class="name" id="selected-unit-name">Unit Title</span>
                    <span class="meta" id="selected-unit-count">0 Words</span>
                </div>
            </div>
            <div class="mode-container">
                <div class="mode-card fade-up" data-mode="flashcard" style="animation-delay:0.1s">
                    <div class="icon-box">üé¥</div>
                    <h3>Flashcards</h3>
                </div>
                <div class="mode-card fade-up" data-mode="game" style="animation-delay:0.2s">
                    <div class="icon-box">ÔøΩ</div>
                    <h3>Practice</h3>
                </div>
                <div class="mode-card fade-up" data-mode="test" style="animation-delay:0.3s">
                    <div class="icon-box">üìù</div>
                    <h3>Speed Test</h3>
                </div>
                <div class="mode-card fade-up" data-mode="manage" style="animation-delay:0.4s">
                    <div class="icon-box">‚öôÔ∏è</div>
                    <h3>Setup</h3>
                </div>
            </div>
        </section>

        <!-- Screen: Flashcard Mode -->
        <section id="screen-flashcard" class="hidden">
            <button class="back-btn" id="back-from-flashcard">‚Üê MENU</button>
            <div class="progress-bar" style="margin-bottom:32px;">
                <div class="progress-fill" id="flashcard-progress"></div>
            </div>

            <div class="flashcard-wrapper">
                <div class="luxury-card" id="flashcard">
                    <div class="face front">
                        <span class="type-badge" id="fc-type">word</span>
                        <div class="word" id="fc-uzbek" style="font-size:2.4rem; font-weight:800; text-align:center;">
                            ...</div>
                        <div
                            style="position:absolute; bottom:40px; color:var(--text-muted); font-size:0.8rem; font-weight:700;">
                            TAP TO REVEAL</div>
                    </div>
                    <div class="face back">
                        <span class="type-badge" id="fc-type-back">word</span>
                        <div class="word" id="fc-english"
                            style="font-size:2.8rem; font-weight:800; color:var(--accent); text-align:center;">...</div>
                        <div class="translation" id="fc-uzbek-back"
                            style="margin-top:12px; font-weight:700; font-size:1.2rem; opacity:0.6;">...</div>
                        <button id="fc-speak"
                            style="margin-top:24px; background:rgba(255,255,255,0.1); border:none; border-radius:50%; width:60px; height:60px; font-size:1.5rem; cursor:pointer; color:#fff; display:flex; align-items:center; justify-content:center; transition:0.2s;">üîä</button>
                    </div>
                </div>
            </div>

            <div style="display:flex; gap:16px; margin-top:40px;">
                <button class="quiz-btn" id="fc-prev" style="flex:1; background:transparent;">Previous</button>
                <button class="quiz-btn" id="fc-next"
                    style="flex:2; background:var(--accent); box-shadow:0 10px 30px var(--accent-glow);">Next
                    Card</button>
            </div>
        </section>

        <!-- Other game screens will follow the same premium logic... -->
        <!-- Screen: Practice Mode -->
        <section id="screen-game" class="hidden">
            <button class="back-btn" id="back-from-game">‚Üê EXIT</button>
            <div class="user-hud"
                style="margin-bottom:20px; justify-content: space-around; background:transparent; border:none; box-shadow:none;">
                <div class="hud-item"><span
                        style="font-size:0.7rem; font-weight:800; color:var(--text-muted); display:block; text-align:center;">SCORE</span>
                    <b id="game-correct" style="font-size:1.4rem;">0</b>
                </div>
                <div class="hud-item"><span
                        style="font-size:0.7rem; font-weight:800; color:var(--text-muted); display:block; text-align:center;">REMAINING</span>
                    <b id="game-remaining" style="font-size:1.4rem;">0</b>
                </div>
            </div>

            <div class="unit-card fade-up"
                style="padding: 60px 30px; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 400px; position:relative; overflow:hidden;">
                <!-- Decor Background -->
                <div
                    style="position:absolute; top:-50px; left:-50px; width:200px; height:200px; background:var(--accent); filter:blur(100px); opacity:0.15;">
                </div>
                <div
                    style="position:absolute; bottom:-50px; right:-50px; width:200px; height:200px; background:#fff; filter:blur(100px); opacity:0.05;">
                </div>

                <h2 id="game-uzbek"
                    style="font-size:2.4rem; font-weight:900; margin-bottom:40px; text-shadow:0 10px 30px rgba(0,0,0,0.5); z-index:2; line-height:1.2; word-break: break-word;">
                    Word</h2>

                <!-- Audio Button -->
                <button id="game-speak"
                    style="position:absolute; top:20px; right:20px; background:rgba(255,255,255,0.1); border:none; border-radius:50%; width:48px; height:48px; font-size:1.2rem; cursor:pointer; color:#fff; z-index:10;">üîä</button>

                <div style="position:relative; width:100%; max-width:320px; z-index:2;">
                    <input type="text" id="game-input" class="game-input" placeholder="Type here..." autocomplete="off">
                </div>

                <div id="game-feedback" class="hidden"
                    style="margin-top:24px; font-weight:800; font-size:1.1rem; padding:8px 16px; border-radius:12px; z-index:2;">
                </div>
            </div>

            <button class="quiz-btn" id="game-check"
                style="background:var(--accent); margin-top:24px; box-shadow:0 10px 40px var(--accent-glow);">CHECK
                ANSWER</button>
        </section>

        <!-- Screen: Test Mode -->
        <section id="screen-test" class="hidden">
            <button class="back-btn" id="back-from-test">‚Üê QUIT</button>

            <div class="progress-bar" style="margin-bottom:24px;">
                <div class="progress-fill" id="test-progress"></div>
            </div>

            <div class="unit-card fade-up"
                style="padding: 40px 20px; text-align: center; min-height: 500px; display: flex; flex-direction: column; justify-content: center; position:relative; overflow:hidden;">
                <!-- Decor -->
                <div
                    style="position:absolute; top:-100px; right:-100px; width:300px; height:300px; background:var(--accent); filter:blur(120px); opacity:0.1;">
                </div>

                <span
                    style="font-size:0.8rem; font-weight:800; color:var(--text-muted); text-transform:uppercase; letter-spacing:1px; margin-bottom:20px;">Translate
                    this word</span>

                <h2 id="test-question"
                    style="font-size:1.8rem; font-weight:900; margin-bottom:24px; z-index:2; word-break:break-word; line-height:1.3;">
                    Word</h2>

                <div id="test-options"
                    style="display:grid; grid-template-columns: 1fr 1fr; gap:10px; width:100%; z-index:2;">
                    <!-- Options injected here -->
                </div>
            </div>
        </section>

        <!-- Screen: Settings -->
        <section id="screen-settings" class="hidden">
            <button class="back-btn" onclick="showScreen('units')">‚Üê BACK</button>
            <div class="unit-card" style="padding: 40px 30px; display:block; cursor:default;">
                <h2 style="font-size:1.8rem; font-weight:900; margin-bottom:32px;">SOZLAMALAR</h2>

                <div style="margin-bottom:32px;">
                    <label
                        style="display:block; font-size:0.9rem; font-weight:700; color:var(--text-muted); margin-bottom:12px;">ISMINGIZ</label>
                    <div style="display:flex; gap:12px;">
                        <input type="text" id="settings-nick" class="game-input"
                            style="text-align:left; font-size:1.1rem; padding:16px;" placeholder="Ismingiz...">
                        <button onclick="saveSettingsName()" class="quiz-btn"
                            style="width:auto; margin:0; background:var(--accent);">SAQLASH</button>
                    </div>
                </div>

                <div style="border-top:1px solid var(--glass-border); padding-top:32px;">
                    <label
                        style="display:block; font-size:0.9rem; font-weight:700; color:var(--error); margin-bottom:12px;">XAVFLI
                        HUDUD</label>
                    <button onclick="resetAllProgress()" class="quiz-btn"
                        style="background:rgba(244,63,94,0.1); color:var(--error); border:1px solid var(--error);">PROGRESSNI
                        RESET QILISH</button>
                    <p style="font-size:0.8rem; color:var(--text-muted); margin-top:12px;">Bu harakat barcha XP, Level
                        va Yutuqlaringizni o'chirib yuboradi. Qayta tiklab bo'lmaydi.</p>
                </div>
            </div>
        </section>

        <!-- Screen: Results -->
        <section id="screen-results" class="hidden">
            <div class="unit-card" style="text-align:center; display:block; padding:60px 20px; cursor:default;">
                <div style="font-size:4.5rem; margin-bottom:20px;">üéñÔ∏è</div>
                <h2 style="font-size:2.2rem; font-weight:800; margin-bottom:4px;">Great Job!</h2>
                <p style="color:var(--text-muted); font-weight:700; margin-bottom:32px;">Mode completed successfully</p>
                <div id="results-score"
                    style="font-size:4rem; font-weight:900; color:var(--accent); margin-bottom:40px;">0%</div>
                <button class="quiz-btn" id="results-home" style="background:var(--accent);">Return to Home</button>
            </div>
        </section>

        <!-- Screen: My Library (Manage) -->
        <section id="screen-manage" class="hidden">
            <button class="back-btn" onclick="showScreen('units')">‚Üê BACK</button>

            <!-- Quick Add Section -->
            <div class="unit-card fade-up" style="margin-bottom: 24px; cursor: default; display:block;">
                <span
                    style="font-size:0.75rem; font-weight:800; color:var(--accent); text-transform:uppercase; margin-bottom:12px; display:block;">Bitta
                    so'z qo'shish</span>
                <div style="display:flex; gap:12px;">
                    <input type="text" id="custom-word-input" placeholder="English - Uzbek"
                        style="flex:1; background:rgba(0,0,0,0.2); border:1px solid var(--glass-border); padding:16px; border-radius:14px; color:#fff; outline:none;">
                    <button id="add-word-btn"
                        style="width:54px; height:54px; background:var(--accent); border:none; border-radius:14px; color:#fff; font-size:1.5rem; cursor:pointer;">+</button>
                </div>
            </div>

            <!-- Bulk Import Section -->
            <div class="unit-card fade-up"
                style="display:block; cursor:default; margin-bottom:32px; border-color:var(--accent);">
                <h2 style="font-size:1.2rem; font-weight:800; margin-bottom:12px; color:var(--accent);">ADD NEW UNIT
                </h2>
                <p style="font-size:0.75rem; color:var(--text-muted); margin-bottom:16px; font-weight:700;">PDF yoki
                    boshqa joydan so'zlarni nusxalab oling va bu yerga tashlang. Har bir qatorda: <br><b>English -
                        Uzbek</b></p>
                <input type="text" id="import-unit-name" placeholder="Unit nomi (masalan: Yangi So'zlar)"
                    style="width:100%; background:rgba(0,0,0,0.2); border:1px solid var(--glass-border); padding:14px; border-radius:12px; color:#fff; margin-bottom:12px; outline:none;">
                <textarea id="import-text" placeholder="apple - olma&#10;banana - banan&#10;..."
                    style="width:100%; height:120px; background:rgba(0,0,0,0.2); border:1px solid var(--glass-border); padding:14px; border-radius:12px; color:#fff; outline:none; font-size:0.9rem; resize:none; margin-bottom:16px;"></textarea>
                <button onclick="bulkImport()" class="quiz-btn"
                    style="background:var(--accent); font-weight:900; padding:16px;">YARATISH</button>
            </div>

            <div class="unit-card"
                style="display:block; cursor:default; background:transparent; border:none; box-shadow:none; padding:10px 0;">
                <h2 style="font-size:1.4rem; font-weight:800; margin-bottom:16px;">MY UNITS</h2>
                <div id="manage-word-list" style="display:grid; gap:12px;"></div>
            </div>
        </section>

        <!-- Screen: Ranks -->
        <section id="screen-ranks" class="hidden">
            <button class="back-btn" onclick="showScreen('units')">‚Üê BACK</button>
            <div class="unit-card" style="display:block; cursor:default; padding:32px 20px;">
                <h2 style="font-size:1.4rem; font-weight:800; margin-bottom:24px; text-align:center;">üèÜ LEADERBOARD
                </h2>
                <div id="ranks-list" style="display:grid; gap:16px;">
                    <!-- Only Real Users -->
                    <div
                        style="display:flex; justify-content:space-between; align-items:center; background:rgba(255,215,0,0.1); border:1px solid gold; padding:16px; border-radius:16px;">
                        <span id="rank-you-name" style="font-weight:800;">YOU</span>
                        <span id="rank-you-xp" style="color:gold; font-weight:800;">0 XP</span>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Floating Navigation Bar -->
    <nav class="navbar">
        <div class="nav-item active" id="nav-home" onclick="showScreen('units'); updateNavActive(this);">
            <span>üè†</span> Home
        </div>
        <div class="nav-item" id="nav-library"
            onclick="showScreen('manage'); renderManageList(); updateNavActive(this);">
            <span>üìö</span> Library
        </div>
        <div class="nav-item" id="nav-ranks" onclick="showScreen('ranks'); updateRanksXP(); updateNavActive(this);">
            <span>üèÜ</span> Ranks
        </div>
    </nav>

    <script src="data.js"></script>
    <script src="app.js"></script>
</body>

</html>